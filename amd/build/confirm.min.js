define("local_alias/confirm",["jquery","core/modal_factory","core/str","core/modal_events","core/ajax","core/notification"],(function($,ModalFactory,String,ModalEvents,Ajax,Notification){var trigger=$(".local_alias_delete_button");ModalFactory.create({type:ModalFactory.types.SAVE_CANCEL,title:String.get_string("delete_alias_title","local_alias"),body:String.get_string("delete_alias_body","local_alias"),preShowCallback:function(triggerElement,modal){var classString=(triggerElement=$(triggerElement))[0].classList[0],aliasid=classString.substr(classString.lastIndexOf("local_aliasid")+"local_aliasid".length);modal.params={aliasid:aliasid},modal.setSaveButtonText(String.get_string("delete_alias_button","local_alias"))},large:!0},trigger).done((function(modal){modal.getRoot().on(ModalEvents.save,(function(e){e.preventDefault();var footer=Y.one(".modal-footer");footer.setContent("Deleting...");var spinner=M.util.add_spinner(Y,footer);spinner.show();var request={methodname:"local_alias_delete_alias",args:modal.params};Ajax.call([request])[0].done((function(data){spinner.hide(),!0===data?window.location.reload():Notification.addNotification({message:String.get_string("err_delete_alias_failed","local_alias"),type:"error"})})).fail(Notification.exception)}))}))}));

//# sourceMappingURL=confirm.min.js.map